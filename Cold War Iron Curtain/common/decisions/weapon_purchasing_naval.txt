weapon_purchasing = {
	WP_CAP_screen_hull_small_ww = {
		icon = frigate
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_2
			NOT = {
				has_global_flag = WP_CAP_tech_3
			}
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = ww_screen_hull_small
					equipment_variant = "Rudderow class"
					creator = CAP
				}
				create_ship = {
					type = ww_screen_hull_small
					equipment_variant = "Rudderow class"
					creator = CAP
				}
				create_ship = {
					type = ww_screen_hull_small
					equipment_variant = "Rudderow class"
					creator = CAP
				}
				create_ship = {
					type = ww_screen_hull_small
					equipment_variant = "Rudderow class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = frigate_ww
					creator = CAP
				}
				create_ship = {
					type = frigate_ww
					creator = CAP
				}
				create_ship = {
					type = frigate_ww
					creator = CAP
				}
				create_ship = {
					type = frigate_ww
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_small_1 = {
		icon = frigate
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_3
			NOT = {
				has_global_flag = WP_CAP_tech_5
			}
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_small_1
					equipment_variant = "Dealey class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_1
					equipment_variant = "Dealey class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_1
					equipment_variant = "Dealey class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_1
					equipment_variant = "Dealey class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = frigate_1
					creator = CAP
				}
				create_ship = {
					type = frigate_1
					creator = CAP
				}
				create_ship = {
					type = frigate_1
					creator = CAP
				}
				create_ship = {
					type = frigate_1
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_small_3 = {
		icon = frigate
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_5
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_small_3
					equipment_variant = "Oliver Hazard Perry class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_3
					equipment_variant = "Oliver Hazard Perry class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_3
					equipment_variant = "Oliver Hazard Perry class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_small_3
					equipment_variant = "Oliver Hazard Perry class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = frigate_3
					creator = CAP
				}
				create_ship = {
					type = frigate_3
					creator = CAP
				}
				create_ship = {
					type = frigate_3
					creator = CAP
				}
				create_ship = {
					type = frigate_3
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_medium_ww = {
		icon = destroyer
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_2
			NOT = {
				has_global_flag = WP_CAP_tech_3
			}
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = ww_screen_hull_medium
					equipment_variant = "Gleaves class"
					creator = CAP
				}
				create_ship = {
					type = ww_screen_hull_medium
					equipment_variant = "Gleaves class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = destroyer_ww
					creator = CAP
				}
				create_ship = {
					type = destroyer_ww
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_medium_1 = {
		icon = destroyer
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_3
			NOT = {
				has_global_flag = WP_CAP_tech_5
			}
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_medium_1
					equipment_variant = "Forest Sherman class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_medium_1
					equipment_variant = "Forest Sherman class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = destroyer_1
					creator = CAP
				}
				create_ship = {
					type = destroyer_1
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_medium_3 = {
		icon = destroyer
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_5
			has_country_flag = weapon_purchasing.CAP.high
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSix }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSix }
			add_to_variable = { global.CAPWPProfit = global.WPTierSix }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_medium_3
					equipment_variant = "Spruance class"
					creator = CAP
				}
				create_ship = {
					type = screen_hull_medium_3
					equipment_variant = "Spruance class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = destroyer_3
					creator = CAP
				}
				create_ship = {
					type = destroyer_3
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_large_ww = {
		icon = cruiser
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_2
			NOT = {
				has_global_flag = WP_CAP_tech_3
			}
			has_country_flag = weapon_purchasing.CAP.maximum
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSeven }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSeven }
			add_to_variable = { global.CAPWPProfit = global.WPTierSeven }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = ww_screen_hull_large
					equipment_variant = "Baltimore class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = cruiser_ww
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_large_1 = {
		icon = cruiser
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_3
			NOT = {
				has_global_flag = WP_CAP_tech_5
			}
			has_country_flag = weapon_purchasing.CAP.maximum
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSeven }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSeven }
			add_to_variable = { global.CAPWPProfit = global.WPTierSeven }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_large_1
					equipment_variant = "Boston class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = cruiser_1
					creator = CAP
				}
			}
		}
	}
	WP_CAP_screen_hull_large_3 = {
		icon = cruiser
		cost = 0
		visible = {
			has_global_flag = WP_CAP_tech_5
			has_country_flag = weapon_purchasing.CAP.maximum
		}
		available = {
			#check_variable = { currentMoney > global.WPTierSeven }
		}
		
		complete_effect = {
			subtract_from_variable = { currentMoney = global.WPTierSeven }
			add_to_variable = { global.CAPWPProfit = global.WPTierSeven }
			if = {
				limit = { has_dlc = "Man the Guns" }
				create_ship = {
					type = screen_hull_large_3
					equipment_variant = "Ticonderoga class"
					creator = CAP
				}
			}
			else = {
				create_ship = {
					type = cruiser_3
					creator = CAP
				}
			}
		}
	}
}
