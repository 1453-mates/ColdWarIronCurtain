add_namespace = weapon_purchasing

country_event = {
	id = weapon_purchasing.0
	title = weapon_purchasing.0.t
	desc = weapon_purchasing.0.d
	picture = GFX_weapon_purchase.0
	
	is_triggered_only = yes
	
	option = { #Democratic and revsocs w/ soviet split
		name = weapon_purchasing.0.USA #Western Sources
		country_event = weapon_purchasing.1
		trigger = {
			AND = {
				NOT = {
					has_country_flag = weapon_purchasing_USA_disallowed
				}
				OR = {
					has_government = conservative
					has_government = Liberal_Conservatism
					has_government = Christian_Democratic
					has_government = socialist
					has_government = Social_Democratic
					has_government = Social_Liberalism
					has_government = democratic
					has_government = centrist
					has_government = liberal
					has_government = islamism
					has_country_flag = weapon_purchasing_USA_permit
				}
			}
		}
	}
	option = { #All communists except maoists or revsocs if they split
		name = weapon_purchasing.0.SOV #Western Communist Sources
		country_event = weapon_purchasing.2
		trigger = {
			AND = {
				NOT = {
					has_country_flag = weapon_purchasing_SOV_disallowed
				}
				OR = {
					has_government = socialist
					has_government = liberal
					has_government = islamism
					has_government = communism
					AND = {
						has_government = maoism
						NOT = {
							has_global_flag = sino_soviet_split
						}
					}
					AND = {
						has_government = trotskyism
						NOT = {
							has_global_flag = revsoc_soviet_split
						}
					}
					has_country_flag = weapon_purchasing_SOV_permit
				}
			}
		}
	}
	option = { #Maoists, communists if aligned with soviets, revsocs if both aligned with soviets and no revsoc-soviet split
		name = weapon_purchasing.0.PRC #Eastern Communist Sources
		country_event = weapon_purchasing.3
		trigger = {
			AND = {
				NOT = {
					has_country_flag = weapon_purchasing_PRC_disallowed
				}
				OR = {
					has_government = socialist
					has_government = maoism
					has_government = liberal
					has_government = islamism
					AND = {
						has_government = communism
						NOT = {
							has_global_flag = sino_soviet_split
						}
					}
					AND = {
						has_government = trotskyism
						NOT = {
							has_global_flag = revsoc_soviet_split
							has_global_flag = sino_soviet_split
						}
					}
					has_country_flag = weapon_purchasing_PRC_permit
				}
			}
		}
	}
	option = { #Allowed for everyone
		name = weapon_purchasing.0.IMF
		country_event = weapon_purchasing.4
	}
	option = { #cancel
		name = weapon_purchasing.0.cancel
	}
}

country_event = {
	id = weapon_purchasing.1
	title = weapon_purchasing.0.USA
	desc = weapon_purchasing.USA.d
	picture = GFX_weapon_purchase.USA
	
	is_triggered_only = yes
	
	option = {
		name = weapon_purchasing.USA.infantry
		set_country_flag = weapon_purchasing.USA.infantry
		add_political_power = -100
	}
	option = {
		name = weapon_purchasing.USA.armor
		set_country_flag = weapon_purchasing.USA.armor
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.USA.air
		set_country_flag = weapon_purchasing.USA.air
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.USA.navy
		set_country_flag = weapon_purchasing.USA.navy
		add_political_power = -300
	}
	option = {
		name = weapon_purchasing.USA.cancel
	}
}

country_event = {
	id = weapon_purchasing.2
	title = weapon_purchasing.0.SOV
	desc = weapon_purchasing.SOV.d
	picture = GFX_weapon_purchase.SOV
	
	is_triggered_only = yes
	
	option = {
		name = weapon_purchasing.SOV.infantry
		set_country_flag = weapon_purchasing.SOV.infantry
		add_political_power = -100
	}
	option = {
		name = weapon_purchasing.SOV.armor
		set_country_flag = weapon_purchasing.SOV.armor
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.SOV.air
		set_country_flag = weapon_purchasing.SOV.air
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.SOV.navy
		set_country_flag = weapon_purchasing.SOV.navy
		add_political_power = -300
	}
	option = {
		name = weapon_purchasing.SOV.cancel
	}
}

country_event = {
	id = weapon_purchasing.3
	title = weapon_purchasing.0.PRC
	desc = weapon_purchasing.PRC.d
	picture = GFX_weapon_purchase.PRC
	
	is_triggered_only = yes
	
	option = {
		name = weapon_purchasing.PRC.infantry
		set_country_flag = weapon_purchasing.PRC.infantry
		add_political_power = -100
	}
	option = {
		name = weapon_purchasing.PRC.armor
		set_country_flag = weapon_purchasing.PRC.armor
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.PRC.air
		set_country_flag = weapon_purchasing.PRC.air
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.PRC.navy
		set_country_flag = weapon_purchasing.PRC.navy
		add_political_power = -300
	}
	option = {
		name = weapon_purchasing.PRC.cancel
	}
}

country_event = {
	id = weapon_purchasing.4
	title = weapon_purchasing.0.IMF
	desc = weapon_purchasing.IMF.d
	picture = GFX_weapon_purchase.IMF
	
	is_triggered_only = yes
	
	option = {
		name = weapon_purchasing.IMF.infantry
		set_country_flag = weapon_purchasing.IMF.infantry
		add_political_power = -100
	}
	option = {
		name = weapon_purchasing.IMF.armor
		set_country_flag = weapon_purchasing.IMF.armor
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.IMF.air
		set_country_flag = weapon_purchasing.IMF.air
		add_political_power = -200
	}
	option = {
		name = weapon_purchasing.IMF.navy
		set_country_flag = weapon_purchasing.IMF.navy
		add_political_power = -300
	}
	option = {
		name = weapon_purchasing.IMF.cancel
	}
}